{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-586ca8d3910d7bdf.js","node_modules/@parcel/runtime-js/lib/runtime-c24743027fe34e60.js","src/js/modal.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dxLsE\\\":\\\"index-js.977a870b.js\\\",\\\"CVUpS\\\":\\\"sprite_market.15459aa5.svg\\\",\\\"20df4\\\":\\\"logo-social.3d75b350.png\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('dxLsE') + require('./helpers/bundle-manifest').resolve(\"CVUpS\");","import sprite_market from '../images/sprite_market.svg';\nimport { autorsListData } from '../js-data/autorsList';\nimport { postsListData } from '../js-data/postsList';\n\n//* Знаходжу усі необхідні елементи для створення і управління модалкою\nconst refs = {\n  modalEl: document.querySelector('[data-modal]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modalNameEl: document.querySelector('.js-modal-name'),\n  modalContentEl: document.querySelector('.js-modal-content'),\n};\n// * Деструктурищзація для зручності звернення до змінних\nlet { modalEl, closeModalBtn, modalContentEl, modalNameEl, ...otherRefs } =\n  refs;\n// * Функція зміни класу БЕКДРОП\nfunction toggleModal() {\n  modalEl.classList.toggle('is-hidden');\n  closeModalBtn.addEventListener('click', toggleModal);\n  if (modalEl.classList.contains('is-hidden')) {\n    modalNameEl.textContent = '';\n    modalContentEl.textContent = '';\n    closeModalBtn.removeEventListener('click', toggleModal);\n  }\n}\n\n// * Функція створення модалки\nfunction createModalContent(callback, target) {\n  // console.log(target);\n\n  // * Навішується слухач подій на кнопку закриття модалки\n  closeModalBtn.addEventListener('click', toggleModal);\n\n  //! тестове наповнення модалки\n  if (callback === undefined) {\n    modalNameEl.textContent = `Тут буде назва`;\n    modalContentEl.insertAdjacentHTML(\n      'afterbegin',\n      `\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      Доброго вечора ми з України!\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      `\n    );\n    console.log('У модалку не передано кнаповнення');\n    return;\n  } else if (callback !== undefined) {\n    callback();\n  }\n}\n//todo Функція роботи із корзиною\nonOpenCArtBtnClick();\nfunction onOpenCArtBtnClick() {\n  let openCartBtnEl = document.querySelector('.--showMyCart');\n  openCartBtnEl.addEventListener('click', () => {\n    toggleModal();\n    createModalContent(createModalCart);\n    function createModalCart() {\n      modalNameEl.textContent = `Корзина`;\n      modalContentEl.insertAdjacentHTML(\n        'afterbegin',\n        `\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      Тут буде вміст корзини\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      `\n      );\n    }\n  });\n}\n\n//todo Навішую слухача подій на кнопку на document для делегування події \"CLICK\" на кнопки карток\nonShowAutorCardsBtnClick(autorsListData);\nfunction onShowAutorCardsBtnClick(arrayForFinding) {\n  const refs = {\n    autorId: null,\n    autorCardsList: null,\n    targetEl: null,\n  };\n\n  document.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('--open-autorCardList')) {\n      return;\n    } else if (target !== undefined) {\n      refs.autorId = target.dataset.autorId;\n      refs.targetEl = target;\n\n      refs.autorCardsList = arrayForFinding.filter(\n        el => el.postId === refs.idForFind\n      );\n      // console.log(refs.idForFind);\n      toggleModal();\n      createModalContent(createAutorListModal, target);\n      return;\n    }\n  });\n  function createAutorListModal(autorId) {\n    modalNameEl.textContent = `Автор ${autorId}`;\n    modalContentEl.insertAdjacentHTML(\n      'afterbegin',\n      `\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    Тут будуть пости автора ${autorId}\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    <p>*</p>\n    `\n    );\n  }\n}\nlet actions = {\n  share: 'foo share',\n  like:'foo like',\n  save: 'foo save',\n  comment: 'foo comment',\n};\n//todo Навішую слухача подій на кнопку на document для делегування події \"CLICK\" на кнопки карток\nonAllCardButtonsClick(postsListData);\nfunction onAllCardButtonsClick(arrayForFinding) {\n  const refs = {\n    buttonActionType: null,\n    idForFind: null,\n    foundedCardDataObj: null,\n    targetEl: null,\n  };\n\n  document.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('button')) {\n      return;\n    } else if (target !== undefined) {\n      refs.buttonActionType = Object.keys(target.dataset).join('');\n      refs.idForFind = Object.values(target.dataset).join('');\n      refs.targetEl = target;\nlet keyName = target.dataset.action\n\n\n      // console.log(target.dataset.action);\n      console.log(target.dataset.cardId);\n      // console.log(target.id);\n\n      // console.log(refs.buttonActionType);\n      console.log(\"=====\",actions[`${keyName}`]);\n      // console.log(refs.idForFind);\n\n      refs.foundedCardDataObj = arrayForFinding.find(\n        el => el.postId === refs.idForFind\n      );\n      toFindBtnAction(refs);\n      return;\n    }\n  });\n}\n\n//* Функція яка шукає відповідну функцію до кнопки і запускає її\nfunction toFindBtnAction(refsObj) {\n  let {\n    targetEl,\n    buttonActionType,\n    idForFind: cardId,\n    foundedCardDataObj: cardDataObj,\n    ...otherRefs\n  } = refsObj;\n  let foundedBtnActionObj = null;\n\n  for (const el of btnActionsArr) {\n    if (el.actionName === buttonActionType) {\n      foundedBtnActionObj = el.actionFoo;\n      //* Запускаю найдену функцію кнопки\n      foundedBtnActionObj(cardId, cardDataObj, targetEl);\n      return;\n    }\n  }\n}\n\n//todo масив для перебору функцією .toFindBtnAction,  із функціями кнопок\nconst btnActionsArr = [\n  {\n    actionName: 'buyLater',\n    actionFoo: function userWantToBuyLater(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--inCart');\n      if (targetEl.classList.contains('--inCart')) {\n        targetEl.classList.remove('--deleted');\n        alert(`Товар ar${cardId} додано до корзини.`);\n        return;\n      }\n      targetEl.classList.add('--deleted');\n      alert(`Товар ar${cardId} видалено із корзини.`);\n    },\n  },\n  {\n    actionName: 'buyNow',\n    actionFoo: function userWantToBuyNow(cardId, cardDataObj, targetEl) {\n      toggleModal();\n      createModalContent();\n      console.log(`want to buy card ${cardId} Now`);\n    },\n  },\n  {\n    actionName: 'showFotos',\n    actionFoo: function onOverlayFotosBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} FOTOS`);\n    },\n  },\n  {\n    actionName: 'showSizes',\n    actionFoo: function onOverlaySizesBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} SIZES`);\n    },\n  },\n  {\n    actionName: 'showDetails',\n    actionFoo: function onOverlayDetailsBtnClick(\n      cardId,\n      cardDataObj,\n      targetEl\n    ) {\n      console.log(`show card ${cardId} DETAILS`);\n    },\n  },\n  {\n    actionName: 'actionShare',\n    actionFoo: function onActionShareBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`want SHARE post ${cardId}`);\n    },\n  },\n  {\n    actionName: 'actionLike',\n    actionFoo: function onActionLikeBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--liked');\n\n      if (targetEl.classList.contains('--liked')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was LIKED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNLIKED`);\n      }\n    },\n  },\n  {\n    actionName: 'actionSave',\n    actionFoo: function onActionSaveBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--saved');\n      if (targetEl.classList.contains('--saved')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was SAVED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNSAVED`);\n      }\n    },\n  },\n  // {\n  //   actionName: 'showAllCards',\n  //   actionFoo: function onOpenAllCardsBtnClick(cardId, cardDataObj) {\n  //     toggleModal(),\n  //       // createModalContent()\n  //       console.log(\n  //         `Відкриває модалку із списокм всіх постів автора  та фільтром`\n  //       );\n  //   },\n  // },\n];\n"],"names":["parcelRequire","register","JSON","parse","$a7d0491bff1a92e3$exports","getBundleURL","resolve","$40873ecf3c18e122$var$refs","modalEl","document","querySelector","closeModalBtn","modalNameEl","modalContentEl","$40873ecf3c18e122$var$modalEl","$40873ecf3c18e122$var$closeModalBtn","$40873ecf3c18e122$var$modalContentEl","$40873ecf3c18e122$var$modalNameEl","$40873ecf3c18e122$var$otherRefs","$40873ecf3c18e122$var$toggleModal","classList","toggle","addEventListener","contains","textContent","removeEventListener","$40873ecf3c18e122$var$createModalContent","callback","target","undefined","insertAdjacentHTML","console","log","arrayForFinding","refs","autorId","autorCardsList","targetEl","createAutorListModal","buttonEvent","dataset","filter","el","postId","idForFind","$40873ecf3c18e122$var$onShowAutorCardsBtnClick","$agrVm","autorsListData","$40873ecf3c18e122$var$actions","share","like","save","comment","buttonActionType","foundedCardDataObj","Object","keys","join","values","keyName","action","cardId","find","refsObj","cardDataObj","otherRefs","foundedBtnActionObj","$40873ecf3c18e122$var$btnActionsArr","actionName","actionFoo","$40873ecf3c18e122$var$toFindBtnAction","$40873ecf3c18e122$var$onAllCardButtonsClick","$9OhiC","postsListData","remove","alert","add","innerHTML","$parcel$interopDefault"],"version":3,"file":"index-js.977a870b.js.map"}
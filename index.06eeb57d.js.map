{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-dd30c40ea9e0d50c.js","node_modules/@parcel/runtime-js/lib/runtime-c24743027fe34e60.js","src/js/modal.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dxLsE\\\":\\\"index.06eeb57d.js\\\",\\\"CVUpS\\\":\\\"sprite_market.d1392707.svg\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('dxLsE') + require('./helpers/bundle-manifest').resolve(\"CVUpS\");","import sprite_market from '../images/sprite_market.svg';\nimport { autorsListData } from '../js-data/autorsList';\nimport { postsListData } from '../js-data/postsList';\n\n//* Знаходжу усі необхідні елементи для створення і управління модалкою\nconst refs = {\n  modalEl: document.querySelector('[data-modal]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modalNameEl: document.querySelector('.js-modal-name'),\n  modalContentEl: document.querySelector('.js-modal-content'),\n};\n// * Деструктурищзація для зручності звернення до змінних\nlet { modalEl, closeModalBtn, modalContentEl, modalNameEl, ...otherRefs } =\n  refs;\n// * Функція зміни класу БЕКДРОП\nfunction toggleModal() {\n  modalEl.classList.toggle('is-hidden');\n  closeModalBtn.addEventListener('click', closeModal);\n  if (modalEl.classList.contains('is-hidden')) {\n    modalContentEl.textContent = '';\n    closeModalBtn.removeEventListener('click', closeModal);\n  }\n}\n//* Закриває і чистить вміст модалки\nfunction closeModal() {\n  modalEl.classList.remove('is-hidden');\n  modalContentEl.textContent = '';\n  closeModalBtn.removeEventListener('click', closeModal);\n}\n//* Відкриває модалку і додає слухача подій на кнопку закриття\nfunction closeModal() {\n  modalEl.classList.add('is-hidden');\n  closeModalBtn.addEventListener('click', closeModal);\n}\n// * Функція створення модалки\nfunction createModalContent(target, callback) {\n  console.log(target);\n\n  // * Навішується слухач подій на кнопку закриття модалки\n  closeModalBtn.addEventListener('click', closeModal);\n\n  //! тестове наповнення модалки\n  if (callback === undefined) {\n    modalContentEl.insertAdjacentHTML(\n      'afterbegin',\n      `\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      тут буде вставлений текст колбек функції\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      `\n    );\n    console.log('У модалку не передано кнаповнення');\n  } else {\n    callback(target, modalContentEl);\n  }\n}\n\n//todo Навішую слухача подій на кнопку на WINDOW для делегування події \"CLICK\" на кнопки карток\nonShowAutorCardsBtnClick(autorsListData);\nfunction onShowAutorCardsBtnClick(arrayForFinding) {\n  const refs = {\n    autorId: null,\n    autorCardsList: null,\n    targetEl: null,\n  };\n\n  window.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('--open-autorCardList')) {\n      return;\n    } else if (target !== undefined) {\n      refs.autorId = target.dataset.autorId;\n      refs.targetEl = target;\n\n      refs.autorCardsList = arrayForFinding.filter(\n        el => el.postId === refs.idForFind\n      );\n      toggleModal();\n      // createModalContent(target);\n      console.log(refs.autorCardsList);\n\n      return;\n    }\n  });\n}\n\n//todo Навішую слухача подій на кнопку на WINDOW для делегування події \"CLICK\" на кнопки карток\nonAllCardButtonsClick(postsListData);\nfunction onAllCardButtonsClick(arrayForFinding) {\n  const refs = {\n    buttonActionType: null,\n    idForFind: null,\n    foundedCardDataObj: null,\n    targetEl: null,\n  };\n\n  window.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('button')) {\n      return;\n    } else if (target !== undefined) {\n      refs.buttonActionType = Object.keys(target.dataset).join('');\n      refs.idForFind = Object.values(target.dataset).join('');\n      refs.targetEl = target;\n      refs.foundedCardDataObj = arrayForFinding.find(\n        el => el.postId === refs.idForFind\n      );\n      toFindBtnAction(refs);\n      return;\n    }\n  });\n}\n\n//* Функція яка шукає відповідну функцію до кнопки і запускає її\nfunction toFindBtnAction(refsObj) {\n  let {\n    targetEl,\n    buttonActionType,\n    idForFind: cardId,\n    foundedCardDataObj: cardDataObj,\n    ...otherRefs\n  } = refsObj;\n  let foundedBtnActionObj = null;\n\n  for (const el of btnActionsArr) {\n    if (el.actionName === buttonActionType) {\n      foundedBtnActionObj = el.actionFoo;\n      //* Запускаю найдену функцію кнопки\n      foundedBtnActionObj(cardId, cardDataObj, targetEl);\n      return;\n    }\n  }\n}\n\n//todo масив для перебору функцією .toFindBtnAction,  із функціями кнопок\nconst btnActionsArr = [\n  {\n    actionName: 'buyLater',\n    actionFoo: function userWantToBuyLater(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--inCart');\n      if (targetEl.classList.contains('--inCart')) {\n        targetEl.classList.remove('--deleted')\n        alert(`Товар ar${cardId} додано до корзини.`);\n        return;\n      };\n      targetEl.classList.add('--deleted')\n      alert(`Товар ar${cardId} видалено із корзини.`)\n    },\n  },\n  {\n    actionName: 'buyNow',\n    actionFoo: function userWantToBuyNow(cardId, cardDataObj, targetEl) {\n      toggleModal();\n      createModalContent();\n      console.log(`want to buy card ${cardId} Now`);\n    },\n  },\n  {\n    actionName: 'showFotos',\n    actionFoo: function onOverlayFotosBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} FOTOS`);\n    },\n  },\n  {\n    actionName: 'showSizes',\n    actionFoo: function onOverlaySizesBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} SIZES`);\n    },\n  },\n  {\n    actionName: 'showDetails',\n    actionFoo: function onOverlayDetailsBtnClick(\n      cardId,\n      cardDataObj,\n      targetEl\n    ) {\n      console.log(`show card ${cardId} DETAILS`);\n    },\n  },\n  {\n    actionName: 'actionShare',\n    actionFoo: function onActionShareBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`want SHARE post ${cardId}`);\n    },\n  },\n  {\n    actionName: 'actionLike',\n    actionFoo: function onActionLikeBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--liked');\n\n      if (targetEl.classList.contains('--liked')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was LIKED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNLIKED`);\n      }\n    },\n  },\n  {\n    actionName: 'actionSave',\n    actionFoo: function onActionSaveBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--saved');\n      if (targetEl.classList.contains('--saved')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was SAVED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNSAVED`);\n      }\n    },\n  },\n  // {\n  //   actionName: 'showAllCards',\n  //   actionFoo: function onOpenAllCardsBtnClick(cardId, cardDataObj) {\n  //     toggleModal(),\n  //       // createModalContent()\n  //       console.log(\n  //         `Відкриває модалку із списокм всіх постів автора  та фільтром`\n  //       );\n  //   },\n  // },\n];\n"],"names":["parcelRequire","register","JSON","parse","$a7d0491bff1a92e3$exports","getBundleURL","resolve","$40873ecf3c18e122$var$refs","modalEl","document","querySelector","closeModalBtn","modalNameEl","modalContentEl","$40873ecf3c18e122$var$modalEl","$40873ecf3c18e122$var$closeModalBtn","$40873ecf3c18e122$var$modalContentEl","$40873ecf3c18e122$var$modalNameEl","$40873ecf3c18e122$var$otherRefs","$40873ecf3c18e122$var$toggleModal","classList","toggle","addEventListener","$40873ecf3c18e122$var$closeModal","contains","textContent","removeEventListener","remove","add","arrayForFinding","refs","autorId","autorCardsList","targetEl","window","buttonEvent","target","undefined","dataset","filter","el","postId","idForFind","console","log","$40873ecf3c18e122$var$onShowAutorCardsBtnClick","$agrVm","autorsListData","buttonActionType","foundedCardDataObj","Object","keys","join","values","find","refsObj","cardId","cardDataObj","otherRefs","foundedBtnActionObj","$40873ecf3c18e122$var$btnActionsArr","actionName","actionFoo","$40873ecf3c18e122$var$toFindBtnAction","$40873ecf3c18e122$var$onAllCardButtonsClick","$9OhiC","postsListData","alert","callback","insertAdjacentHTML","innerHTML","$parcel$interopDefault"],"version":3,"file":"index.06eeb57d.js.map"}
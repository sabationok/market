{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-cc42e51a4ebd9db9.js","node_modules/@parcel/runtime-js/lib/runtime-c24743027fe34e60.js","src/js/modal.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dxLsE\\\":\\\"index.bb3dacf5.js\\\",\\\"CVUpS\\\":\\\"sprite_market.15459aa5.svg\\\",\\\"20df4\\\":\\\"logo-social.3d75b350.png\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('dxLsE') + require('./helpers/bundle-manifest').resolve(\"CVUpS\");","import sprite_market from '../images/sprite_market.svg';\nimport { autorsListData } from '../js-data/autorsList';\nimport { postsListData } from '../js-data/postsList';\n\n//* Знаходжу усі необхідні елементи для створення і управління модалкою\nconst refs = {\n  modalEl: document.querySelector('[data-modal]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modalNameEl: document.querySelector('.js-modal-name'),\n  modalContentEl: document.querySelector('.js-modal-content'),\n};\n// * Деструктурищзація для зручності звернення до змінних\nlet { modalEl, closeModalBtn, modalContentEl, modalNameEl, ...otherRefs } =\n  refs;\n// * Функція зміни класу БЕКДРОП\nfunction toggleModal() {\n  modalEl.classList.toggle('is-hidden');\n  closeModalBtn.addEventListener('click', toggleModal);\n  if (modalEl.classList.contains('is-hidden')) {\n    modalContentEl.textContent = '';\n    closeModalBtn.removeEventListener('click', toggleModal);\n  }\n}\n\n// * Функція створення модалки\nfunction createModalContent(target, callback) {\n  console.log(target);\n\n  // * Навішується слухач подій на кнопку закриття модалки\n  closeModalBtn.addEventListener('click', toggleModal);\n\n  //! тестове наповнення модалки\n  if (callback === undefined) {\n    modalContentEl.insertAdjacentHTML(\n      'afterbegin',\n      `\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      Доброго вечора ми з України!\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      <p>*</p>\n      `\n    );\n    console.log('У модалку не передано кнаповнення');\n  } else {\n    callback(target, modalContentEl);\n  }\n}\n\n//todo Навішую слухача подій на кнопку на WINDOW для делегування події \"CLICK\" на кнопки карток\nonShowAutorCardsBtnClick(autorsListData);\nfunction onShowAutorCardsBtnClick(arrayForFinding) {\n  const refs = {\n    autorId: null,\n    autorCardsList: null,\n    targetEl: null,\n  };\n\n  window.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('--open-autorCardList')) {\n      return;\n    } else if (target !== undefined) {\n      refs.autorId = target.dataset.autorId;\n      refs.targetEl = target;\n\n      refs.autorCardsList = arrayForFinding.filter(\n        el => el.postId === refs.idForFind\n      );\n      toggleModal();\n      createModalContent();\n      console.log(refs.autorCardsList);\n\n      return;\n    }\n  });\n}\n\n//todo Навішую слухача подій на кнопку на WINDOW для делегування події \"CLICK\" на кнопки карток\nonAllCardButtonsClick(postsListData);\nfunction onAllCardButtonsClick(arrayForFinding) {\n  const refs = {\n    buttonActionType: null,\n    idForFind: null,\n    foundedCardDataObj: null,\n    targetEl: null,\n  };\n\n  window.addEventListener('click', buttonEvent => {\n    let { target } = buttonEvent;\n    if (!target.classList.contains('button')) {\n      return;\n    } else if (target !== undefined) {\n      refs.buttonActionType = Object.keys(target.dataset).join('');\n      refs.idForFind = Object.values(target.dataset).join('');\n      refs.targetEl = target;\n      refs.foundedCardDataObj = arrayForFinding.find(\n        el => el.postId === refs.idForFind\n      );\n      toFindBtnAction(refs);\n      return;\n    }\n  });\n}\n\n//* Функція яка шукає відповідну функцію до кнопки і запускає її\nfunction toFindBtnAction(refsObj) {\n  let {\n    targetEl,\n    buttonActionType,\n    idForFind: cardId,\n    foundedCardDataObj: cardDataObj,\n    ...otherRefs\n  } = refsObj;\n  let foundedBtnActionObj = null;\n\n  for (const el of btnActionsArr) {\n    if (el.actionName === buttonActionType) {\n      foundedBtnActionObj = el.actionFoo;\n      //* Запускаю найдену функцію кнопки\n      foundedBtnActionObj(cardId, cardDataObj, targetEl);\n      return;\n    }\n  }\n}\n\n//todo масив для перебору функцією .toFindBtnAction,  із функціями кнопок\nconst btnActionsArr = [\n  {\n    actionName: 'buyLater',\n    actionFoo: function userWantToBuyLater(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--inCart');\n      if (targetEl.classList.contains('--inCart')) {\n        targetEl.classList.remove('--deleted')\n        alert(`Товар ar${cardId} додано до корзини.`);\n        return;\n      };\n      targetEl.classList.add('--deleted')\n      alert(`Товар ar${cardId} видалено із корзини.`)\n    },\n  },\n  {\n    actionName: 'buyNow',\n    actionFoo: function userWantToBuyNow(cardId, cardDataObj, targetEl) {\n      toggleModal();\n      createModalContent();\n      console.log(`want to buy card ${cardId} Now`);\n    },\n  },\n  {\n    actionName: 'showFotos',\n    actionFoo: function onOverlayFotosBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} FOTOS`);\n    },\n  },\n  {\n    actionName: 'showSizes',\n    actionFoo: function onOverlaySizesBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`show card ${cardId} SIZES`);\n    },\n  },\n  {\n    actionName: 'showDetails',\n    actionFoo: function onOverlayDetailsBtnClick(\n      cardId,\n      cardDataObj,\n      targetEl\n    ) {\n      console.log(`show card ${cardId} DETAILS`);\n    },\n  },\n  {\n    actionName: 'actionShare',\n    actionFoo: function onActionShareBtnClick(cardId, cardDataObj, targetEl) {\n      console.log(`want SHARE post ${cardId}`);\n    },\n  },\n  {\n    actionName: 'actionLike',\n    actionFoo: function onActionLikeBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--liked');\n\n      if (targetEl.classList.contains('--liked')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was LIKED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-heart-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNLIKED`);\n      }\n    },\n  },\n  {\n    actionName: 'actionSave',\n    actionFoo: function onActionSaveBtnClick(cardId, cardDataObj, targetEl) {\n      targetEl.classList.toggle('--saved');\n      if (targetEl.classList.contains('--saved')) {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was SAVED`);\n      } else {\n        targetEl.innerHTML = `<svg class=\"btn-svg\">\n      <use href=\"${sprite_market}#icon-bookmark-o\"></use>\n    </svg>`;\n        console.log(`post ${cardId} was UNSAVED`);\n      }\n    },\n  },\n  // {\n  //   actionName: 'showAllCards',\n  //   actionFoo: function onOpenAllCardsBtnClick(cardId, cardDataObj) {\n  //     toggleModal(),\n  //       // createModalContent()\n  //       console.log(\n  //         `Відкриває модалку із списокм всіх постів автора  та фільтром`\n  //       );\n  //   },\n  // },\n];\n"],"names":["parcelRequire","register","JSON","parse","$a7d0491bff1a92e3$exports","getBundleURL","resolve","$40873ecf3c18e122$var$refs","modalEl","document","querySelector","closeModalBtn","modalNameEl","modalContentEl","$40873ecf3c18e122$var$modalEl","$40873ecf3c18e122$var$closeModalBtn","$40873ecf3c18e122$var$modalContentEl","$40873ecf3c18e122$var$modalNameEl","$40873ecf3c18e122$var$otherRefs","$40873ecf3c18e122$var$toggleModal","classList","toggle","addEventListener","contains","textContent","removeEventListener","$40873ecf3c18e122$var$createModalContent","target","callback","console","log","undefined","insertAdjacentHTML","arrayForFinding","refs","autorId","autorCardsList","targetEl","window","buttonEvent","dataset","filter","el","postId","idForFind","$40873ecf3c18e122$var$onShowAutorCardsBtnClick","$agrVm","autorsListData","buttonActionType","foundedCardDataObj","Object","keys","join","values","find","refsObj","cardId","cardDataObj","otherRefs","foundedBtnActionObj","$40873ecf3c18e122$var$btnActionsArr","actionName","actionFoo","$40873ecf3c18e122$var$toFindBtnAction","$40873ecf3c18e122$var$onAllCardButtonsClick","$9OhiC","postsListData","remove","alert","add","innerHTML","$parcel$interopDefault"],"version":3,"file":"index.bb3dacf5.js.map"}